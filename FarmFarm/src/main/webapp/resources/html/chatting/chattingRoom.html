<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>팜팜 | 내 채팅</title>

    <link rel="stylesheet" href="/src/main/webapp/resources/css/chattingRoom/chattingRoom-style.css">
    <link rel="stylesheet" href="/src/main/webapp/resources/css/header.css">

    
    <script src="https://kit.fontawesome.com/d449774bd8.js" crossorigin="anonymous"></script>
</head>
<body>
    <div class="header-container">
        <header>
          <div class="home-logo">
            <a href="/">
              <img src="../images/mainLogo.png" />
            </a>
          </div>
  
          <div class="header-widget-area">
            <!-- 로그인O 상태 -->
            <ul class="widget-list">
              <li class="widget-item">
                <div class="dropdown">
                  <button type="button" class="dropbtn1">
                    <i class="fa-solid fa-bell header-icon"></i>
                  </button>
  
                  <div id="myDropdown1" class="dropdown-message">
                    <div class="notice"><p>알림</p></div>
                    <ul>
                      <li>
                        <div class="message-box">
                          <a href="">배송이 시작되었습니다.</a>
                        </div>
                      </li>
                      <li>
                        <div class="message-box">
                          <a href="">신팜팜님이 신고했습니다..</a>
                        </div>
                      </li>
                      <li>
                        <div class="message-box">
                          <a href="">정팜팜님이 신고를 거부하셨습니다.</a>
                        </div>
                      </li>
                    </ul>
                  </div>
                </div>
              </li>
              <li class="widget-item">
                <a href="#">
                  <i class="fa-solid fa-comment-dots"></i>
                </a>
                <!-- <div class="chat-count">21</div> -->
              </li>
              <li class="widget-item">
                <div class="dropdown">
                  <button type="button" class="dropbtn">
                    <span>
                      <i
                        class="fa-solid fa-user header-icon"
                        id="profilePhoto"
                      ></i>
                    </span>
                    <!-- <span>
                                      <img src="../images/member/farmer.png" class="login-profile-img">
                                  </span> -->
                    <i
                      class="fa-solid fa-caret-down caret-icon"
                      id="triangleIcon"
                    ></i>
                  </button>
  
                  <div id="myDropdown" class="dropdown-content">
                    <a href="#">내프로필</a>
                    <a href="#">로그아웃</a>
                  </div>
                </div>
              </li>
            </ul>
  
            <!-- 로그인X 상태 -->
            <!-- <ul class="login-list">
                      <li class="login-item"><a href="#">로그인</a></li>
                      <li class="login-item"><a href="#">회원가입</a></li>
                  </ul> -->
          </div>
        </header>
  
        <nav>
          <div class="nav-head">
            <div class="nav-body">
              <div class="nav-list"><a href="#">팜팜마켓</a></div>
              <div class="nav-list"><a href="#">사고팔고</a></div>
              <div class="nav-list"><a href="#">커뮤니티</a></div>
              <div class="nav-list"><a href="#">문의게시판</a></div>
            </div>
          </div>
        </nav>
      </div>
      <script>
        // 프로필 드롭다운
        const dropbtn = document.querySelector('.dropbtn');
        dropbtn.addEventListener('click', () => {
          const icon = document.querySelector('.caret-icon');
          const myDropdown = document.querySelector('.dropdown-content');
  
          if (
            myDropdown.style.display == 'none' ||
            myDropdown.style.display == ''
          ) {
            icon.style.transform = 'perspective(500px) rotateX(180deg)';
            myDropdown.style.display = 'block';
          } else {
            icon.style.transform = 'perspective(500px) rotateX(360deg)';
            myDropdown.style.display = 'none';
          }
        });
  
        dropbtn.addEventListener('blur', () => {
          const icon = document.querySelector('.caret-icon');
          const myDropdown = document.querySelector('.dropdown-content');
  
          myDropdown.style.display = '';
          icon.style.transform = 'perspective(500px) rotateX(360deg)';
        });
  
        // 알림 드롭다운
        const dropbtn1 = document.querySelector('.dropbtn1');
        dropbtn1.addEventListener('click', () => {
          const myDropdown1 = document.querySelector('.dropdown-message');
  
          if (
            myDropdown1.style.display == 'none' ||
            myDropdown1.style.display == ''
          ) {
            myDropdown1.style.display = 'block';
          } else {
            myDropdown1.style.display = 'none';
          }
        });
  
        dropbtn1.addEventListener('blur', () => {
          const myDropdown1 = document.querySelector('.dropdown-message');
  
          myDropdown1.style.display = '';
        });
        // const myDropdown1 = document.getElementById("myDropdown1");
  
        // function dropDown1(){
        //     myDropdown1.classList.toggle("show1");
        // };
  
        // window.onclick=function(e){
        //     if(!e.target.matches(".dropbtn, .dropbtn *")){
  
        //         if(myDropdown1.classList.contains("show1")){
        //             myDropdown1.classList.remove("show1");
        //         }
        //     }
        // };
      </script>
    </div>

    <!-- 본문 영역 -->
    <div class="container" role="main">

        <!-- 좌측 사이드바 채팅방 목록 -->
        <section class="chatting-list-area">
            <div class="title">
                내 채팅
            </div>
            <div class="search-area">
                <input id="searchBar" placeholder="채팅방 검색">
                <button id="searchBtn">
                    검색
                </button>
            </div>

            <!-- 이하는 채팅방 영역 -->

            <div class="chatting-box">
              
              <div class="profile-img">
                <img src="/src/main/webapp/resources/images/chatting/farmer.png">
              </div>
              
              <div class="enter-icon">
                <i class="fa-solid fa-right-to-bracket"></i>
              </div>

              <div class="box-label">
                <div class="member-nickname">
                  착한 판매자
                </div>
              
                <div class="last-message-time">
                  2022-12-18
                </div>
              
              </div>
              
              <div class="last-message-content">
                메세지가 아무리 길어도 2줄 이상은 출력되지 않게 만들려고 합니다. 메세지가 긴 경우는 이렇게 됩니다.
              </div>
            
            </div> <!-- end box -->

            <div class="chatting-box">
              <div class="profile-img">
                <img src="/src/main/webapp/resources/images/chatting/farmer2.png">
              </div>
              
              <div class="enter-icon">
                <i class="fa-solid fa-right-to-bracket"></i>
              </div>
              
              <div class="box-label">
                <div class="member-nickname">
                  이름이 정말 너무너무 긴 판매자가 있다면 어떻게 될까요?
                </div>
              
                <div class="last-message-time">
                  2022-12-18
                </div>
              
              </div>
              
              <div class="last-message-content">
                메세지가 아무리 길어도 2줄 이상은 출력되지 않게 만들려고 합니다. 메세지가 긴 경우는 이렇게 됩니다.
              </div>
            
            </div> <!-- end box -->

            <div class="chatting-box">

              <div class="profile-img">
                <img src="/src/main/webapp/resources/images/chatting/farmer3.png">
              </div>

              <div class="enter-icon">
                <i class="fa-solid fa-right-to-bracket"></i>
              </div>

              <div class="box-label">
                <div class="member-nickname">
                  이름이 정말 너무너무 긴 판매자가 있다면 어떻게 될까요? 이건 3줄을 넘어서 4줄, 5줄까지 가는 아주 긴 이름입니다..
                </div>
                
                <div class="last-message-time">
                  오후 6:26
                </div>
              </div>

              <div class="last-message-content">
                메세지가 아무리 길어도 2줄 이상은 출력되지 않게 만들려고 합니다. 메세지가 긴 경우는 이렇게 됩니다.
              </div>

            </div> <!-- end box -->

        </section>

        <!-- 우측 채팅 내역 -->
        <section class="chatting-room">

          <div id="roomLabel">
            <div id="postImg">
              <img src="/src/main/webapp/resources/images/chatting/potato.jpg">
            </div>
            <div id="postTitle">
              아주 긴 채팅방 제목... 아주 긴 채팅방 제목... 아주 긴 채팅방 제목...
              아주 긴 채팅방 제목... 아주 긴 채팅방 제목... 아주 긴 채팅방 제목...
              아주 긴 채팅방 제목... 아주 긴 채팅방 제목... 아주 긴 채팅방 제목...
              아주 긴 채팅방 제목... 아주 긴 채팅방 제목... 아주 긴 채팅방 제목...
              아주 긴 채팅방 제목... 아주 긴 채팅방 제목... 아주 긴 채팅방 제목...
              아주 긴 채팅방 제목... 아주 긴 채팅방 제목... 아주 긴 채팅방 제목...
              아주 긴 채팅방 제목... 아주 긴 채팅방 제목... 아주 긴 채팅방 제목...
              아주 긴 채팅방 제목... 아주 긴 채팅방 제목... 아주 긴 채팅방 제목...
              아주 긴 채팅방 제목... 아주 긴 채팅방 제목... 아주 긴 채팅방 제목...
              아주 긴 채팅방 제목... 아주 긴 채팅방 제목... 아주 긴 채팅방 제목...
              아주 긴 채팅방 제목... 아주 긴 채팅방 제목... 아주 긴 채팅방 제목...
            </div>
            <button id="purchaseBtn">
              구매하기
            </button>

            <button id="roomEditBtn">
              <i class="fa-sharp fa-solid fa-gear"></i>
            </button>

            <div id="roomEditDropdown">
              <ul>
                <li class="roomEditDropdownMenu">신고하기</li>
                <li class="roomEditDropdownMenu">나가기</li>
              </ul>
            </div>

            <button id="spreadBtn">
              <i class="fa-solid fa-caret-down"></i>
            </button>
          </div>

          <!-- end roomLabel -->

          <!-- 채팅창 메인 -->
          <div id="roomBody">
            <!-- 채팅방 메세지 예시 -->
            <div id="readingArea">

              <!-- 송신/수신한 메세지가 들어갈 영역입니다 -->
              <!-- 받은 메세지 received-message -->
              <!-- message-profile-img, received-bubble. received-bubble-tail -->

              <!-- 보낸 메세지 sent-message -->
              <!-- sent-bubble, sent-bubble-tail -->
              <div class="received-message">
                <div class="message-profile-img">
                  <img src="/src/main/webapp/resources/images/chatting/farmer.png">
                </div>

                <div class="received-bubble-tail"></div>

                <div class="received-bubble">
                  ‘박제가 되어 버린 천재’를 아시오? 나는 유쾌하오. 이런 때 연애까지가 유쾌하오.
                  육신이 흐느적흐느적하도록 피로했을 때만 정신이 은화처럼 맑소. 
                  니코틴이 내 횟배 앓는 뱃속으로 스미면 머릿속에 으레 백지가 준비되는 법이오. 
                  그 위에다 나는 위트와 패러독스를 바둑 포석처럼 늘어놓소. 가증할 상식의 병이오.
                  나는 또 여인과 생활을 설계하오. 연애기법에마저 서먹서먹해진 지성의 극치를 흘깃 좀 들여다본 일이 있는, 말하자면 일종의 정신분일자말이오. 
                  이런 여인의 반 — 그것은 온갖 것의 반이오. — 만을 영수하는 생활을 설계한다는 말이오. 그런 생활 속에 한 발만 들여놓고 흡사 두 개의 태양처럼 마주 쳐다보면서 낄낄거리는 것이오. 
                  나는 아마 어지간히 인생의 제행이 싱거워서 견딜 수가 없게끔 되고 그만둔 모양이오. 굿바이.
                </div>

              </div>
  
              <div class="sent-message">
                <div class="sent-bubble">
                  나는 불현듯 겨드랑이가 가렵다. 아하, 그것은 내 인공의 날개가 돋았던 자국이다. 
                  오늘은 없는 이 날개. 머릿속에서는 희망과 야심이 말소된 페이지가 딕셔너리 넘어가듯 번뜩였다.
                  나는 걷던 걸음을 멈추고 그리고 일어나 한 번 이렇게 외쳐 보고 싶었다.
                  날개야 다시 돋아라.
                  날자. 날자. 한 번만 더 날자꾸나.
                  한 번만 더 날아 보자꾸나.
                </div>
                <div class="sent-bubble-tail"></div>
              </div>

                <div class="received-message">
                  <div class="message-profile-img">
                    <img src="/src/main/webapp/resources/images/chatting/farmer.png">
                  </div>
                  <div class="received-bubble-tail"></div>
                  <div class="received-bubble">
                    ‘박제가 되어 버린 천재’를 아시오? 나는 유쾌하오. 이런 때 연애까지가 유쾌하오.
                    육신이 흐느적흐느적하도록 피로했을 때만 정신이 은화처럼 맑소. 
                    니코틴이 내 횟배 앓는 뱃속으로 스미면 머릿속에 으레 백지가 준비되는 법이오. 
                    그 위에다 나는 위트와 패러독스를 바둑 포석처럼 늘어놓소. 가증할 상식의 병이오.
                    나는 또 여인과 생활을 설계하오. 연애기법에마저 서먹서먹해진 지성의 극치를 흘깃 좀 들여다본 일이 있는, 말하자면 일종의 정신분일자말이오. 
                    이런 여인의 반 — 그것은 온갖 것의 반이오. — 만을 영수하는 생활을 설계한다는 말이오. 그런 생활 속에 한 발만 들여놓고 흡사 두 개의 태양처럼 마주 쳐다보면서 낄낄거리는 것이오. 
                    나는 아마 어지간히 인생의 제행이 싱거워서 견딜 수가 없게끔 되고 그만둔 모양이오. 굿바이.
                  </div>
                </div>
    
                <div class="sent-message">
                  <div class="sent-bubble">
                    나는 불현듯 겨드랑이가 가렵다. 아하, 그것은 내 인공의 날개가 돋았던 자국이다. 
                    오늘은 없는 이 날개. 머릿속에서는 희망과 야심이 말소된 페이지가 딕셔너리 넘어가듯 번뜩였다.
                    나는 걷던 걸음을 멈추고 그리고 일어나 한 번 이렇게 외쳐 보고 싶었다.
                    날개야 다시 돋아라.
                    날자. 날자. 한 번만 더 날자꾸나.
                    한 번만 더 날아 보자꾸나.
                  </div>
                  <div class="sent-bubble-tail"></div>
                </div>
              </div>

            </div>

            
            <!-- 메세지 입력 영역 -->
            <div id="writingArea">

              <button id="addImageBtn">
                <i class="fa-solid fa-image"></i>
              </button>
              <input id="inputBox" type="text" placeholder="메세지를 입력하세요">
              <button id="sendMessage">
                <i class="fa-solid fa-paper-plane"></i>
              </button>

            </div>


          </div>


        </section>
    </div>

    <script src="/src/main/webapp/resources/js/chatting/chattingRoom.js"></script>

</body>
</html>